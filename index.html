<!doctype html>
<html lang="ru">
  <head>
    <title>&lt;rosamundi 〔✛〕 web-zin&gt;</title>
    <meta charset="utf-8">
    <meta name="description" content="&lt;model-viewer&gt; template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" href="./styles.css" rel="stylesheet"/>
    <meta name="Cache-Control" content="max-age=31536000, must-revalidate">
    <meta name="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline';">
    <meta name="keywords" content="rosamundi, poetry, art">
    <meta name="author" content="rosamundi">
    <meta name="referrer" content="no-referrer">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
  </head>


  <!-- Поддержка Safari для import maps -->
<script async src="https://ga.jspm.io/npm:es-module-shims@1.7.1/dist/es-module-shims.js"></script>
<!-- Подключаем Three.js -->
<script type="importmap">
{
  "imports": {
    "three": "https://cdn.jsdelivr.net/npm/three@^0.168.0/build/three.module.min.js"
  }
}
</script>

<!-- Подключаем модульную версию model-viewer и эффекты -->
<script type="module" src="https://cdn.jsdelivr.net/npm/@google/model-viewer/dist/model-viewer-module.min.js"></script>
<script type="module" src="https://cdn.jsdelivr.net/npm/@google/model-viewer-effects/dist/model-viewer-effects.min.js"></script>

  <body>
    <div class="wrapper-h1"><h1>rosamundi 〔✛〕 web-zin</h1></div>
    
    <div class="wrapper-li" id="draggable-element">
      <ul id="poem-list"></ul>
    </div>
    
    
    <div id="popup" class="popup">
      <div class="popup-content"> 
          <p id="popup-text"></p>
      </div>
    </div>

    <div class="custom-audio-player" id="draggable-audio-player">
      <button id="playPauseBtn" class="play-btn">Play</button>
      <button id="muteBtn" class="mute-btn">Mute</button>
  </div>
    

    
    <!-- <model-viewer> HTML element -->
      <model-viewer src="dried_rose_.rawscan.glb" 
      ar 
      ar-modes="webxr scene-viewer quick-look" 
      camera-controls 
      tone-mapping="agx" 
      poster="poster.webp" 
      shadow-intensity="1.25" 
      environment-image="whipple_creek_regional_park_04_1k.hdr" 
      exposure="1.21" 
      shadow-softness="0.3" 
      auto-rotate
      camera-orbit="0deg 60deg 2.2m" 
      camera-target="0 1.2 0" 
      style="background-color: black;">
      
      
      <!-- Эффекты постобработки -->
      <effect-composer>
        <glitch-effect strength="0.7" mode="sporadic"></glitch-effect>
        <pixelate-effect granularity="5" blend-mode="skip"></pixelate-effect>
        <ssao-effect blend-mode="skip"></ssao-effect>
        
        <bloom-effect></bloom-effect>
        <selective-bloom-effect strength="5" radius="0.7" threshold="0.1"></selective-bloom-effect>
      </effect-composer>
    
    </model-viewer>
          <div class="progress-bar hide" slot="progress-bar">
          <div class="update-bar"></div>
      </div>
    </model-viewer>  
  

    <audio id="audioPlayer" src="Elephant Woman.mp3"></audio>
    
    
    <!-- Loads <model-viewer> for browsers: -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
    <script src="s.js"></script>

  </body>
</html>